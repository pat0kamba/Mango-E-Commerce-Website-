{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from \"uuid\";\nvar cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    products: [],\n    badgeCart: 0,\n    showCart: false,\n    wishlist: [],\n    wish: true,\n    menu: false,\n    signIn: true\n  },\n  reducers: {\n    addToCart: function addToCart(state, action) {\n      var newItem = action.payload;\n      console.log(newItem);\n      var existingItem = state.products.find(function (item) {\n        return item.id === newItem.id && item.size === newItem.size;\n      });\n      console.log(existingItem);\n\n      if (existingItem) {\n        existingItem.quantity = existingItem.quantity + 1;\n        existingItem.totalPrice += newItem.price; // existingItem.id = uuidv4();\n\n        console.log(existingItem.id);\n      } else {\n        state.products.push({\n          price: newItem.price,\n          quantity: 1,\n          totalPrice: newItem.price,\n          name: newItem.name,\n          id: newItem.id || newItem._id,\n          newId: uuidv4(),\n          imageUrl: newItem.imageUrl,\n          size: newItem.size\n        });\n      }\n\n      state.badgeCart = state.badgeCart + 1;\n    },\n    removefromCart: function removefromCart(state, action) {\n      var detail = action.payload;\n      console.log(detail.size);\n      var existingItem = state.products.find(function (item) {\n        return item.id === detail.id && item.size === detail.size;\n      });\n      console.log(existingItem.size);\n      console.log(detail.qty);\n\n      if (existingItem.quantity === 1) {\n        state.products = state.products.filter(function (item) {\n          return item.newId !== detail.newId;\n        });\n      } else {\n        existingItem.quantity = existingItem.quantity - 1;\n        existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\n      }\n\n      state.badgeCart = state.badgeCart - 1;\n    },\n    displayCart: function displayCart(state) {\n      state.showCart = !state.showCart;\n    },\n    addToWishlist: function addToWishlist(state, action) {\n      var wish = action.payload;\n      var existingItem = state.wishlist.find(function (item) {\n        return (item.id || item._id) === wish.id;\n      });\n\n      if (existingItem) {\n        state.wishlist = state.wishlist.filter(function (item) {\n          return (item.id || item._id) !== existingItem.id;\n        });\n      } else {\n        state.wishlist.push({\n          name: wish.name,\n          price: wish.price,\n          imageUrl: wish.imageUrl,\n          id: wish.id || wish._id\n        });\n      }\n\n      state.wish = !state.wish;\n    },\n    setBadge: function setBadge(state, action) {\n      var badge = action.badge;\n      state.badgeCart = badge;\n    },\n    setMenu: function setMenu(state) {\n      state.menu = !state.menu;\n    },\n    setSignIn: function setSignIn(state) {\n      state.signIn = !state.signIn;\n    }\n  }\n});\nexport var cartActions = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","v4","uuidv4","cartSlice","name","initialState","products","badgeCart","showCart","wishlist","wish","menu","signIn","reducers","addToCart","state","action","newItem","payload","console","log","existingItem","find","item","id","size","quantity","totalPrice","price","push","_id","newId","imageUrl","removefromCart","detail","qty","filter","displayCart","addToWishlist","setBadge","badge","setMenu","setSignIn","cartActions","actions"],"sources":["/Users/patrickkamba/Documents/web_development/Mango_client/client/src/store/cartSlice.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\nimport {v4 as uuidv4} from \"uuid\";\nconst cartSlice = createSlice({\n    name:\"cart\",\n    initialState:{products:[], badgeCart:0, showCart:false, wishlist:[], wish:true, menu:false, signIn:true},\n    reducers:{\n        addToCart(state, action){\n            const newItem = action.payload;\n            console.log(newItem);\n            const existingItem = state.products.find((item)=>(item.id === newItem.id && item.size === newItem.size));\n            console.log(existingItem);\n            if(existingItem){\n                existingItem.quantity = existingItem.quantity + 1;\n                existingItem.totalPrice += newItem.price;\n                // existingItem.id = uuidv4();\n                console.log(existingItem.id);\n            }else{\n                state.products.push({\n                    price:newItem.price,\n                    quantity:1,\n                    totalPrice:newItem.price,\n                    name:newItem.name,\n                    id:newItem.id || newItem._id,\n                    newId:uuidv4(),\n                    imageUrl:newItem.imageUrl,\n                    size:newItem.size\n                });\n            }\n            state.badgeCart = state.badgeCart + 1;\n            \n        },\n        removefromCart(state, action){\n            const detail = action.payload;\n            console.log(detail.size);\n            const existingItem = state.products.find((item)=>item.id === detail.id && item.size === detail.size);\n            console.log(existingItem.size);\n            console.log(detail.qty);\n            if(existingItem.quantity === 1 )\n            {\n                state.products = state.products.filter((item)=>(item.newId !== detail.newId));\n               \n            }else{\n\n                existingItem.quantity = existingItem.quantity - 1;\n                existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\n            }\n            state.badgeCart = state.badgeCart - 1;\n        },\n        displayCart(state){\n            state.showCart = !state.showCart;\n        }, \n        addToWishlist(state, action){\n            const wish = action.payload;\n            const existingItem = state.wishlist.find((item)=>(item.id || item._id) === wish.id);\n            if (existingItem){\n                state.wishlist = state.wishlist.filter((item)=>(item.id || item._id) !== existingItem.id)\n            }\n            else{\n                state.wishlist.push({\n                    name:wish.name,\n                    price:wish.price,\n                    imageUrl:wish.imageUrl,\n                    id:wish.id || wish._id\n                });\n            }\n            \n            state.wish = !state.wish;\n            \n        },\n        setBadge(state, action){\n            const badge = action.badge;\n            state.badgeCart = badge;\n        },\n        setMenu(state){\n            state.menu = !state.menu;\n        },\n        setSignIn(state){\n            state.signIn = !state.signIn;\n        } \n    }\n})\n\nexport const cartActions = cartSlice.actions;\nexport default cartSlice;"],"mappings":"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"},"metadata":{},"sourceType":"module"}